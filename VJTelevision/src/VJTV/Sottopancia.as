package VJTV {	import flash.display.MovieClip;	import flash.xml.XMLDocument;	import flash.events.*;	import flash.utils.*;	import flash.net.URLLoader;	import flash.net.URLRequest;	import flash.display.Loader;	public class Sottopancia extends MovieClip {		var fnz,n,myXml;		public var but,tit,dat,dur,txt,aut,cat;		public function Sottopancia():void {			//but.mouseChildren = false;			but.addEventListener(MouseEvent.MOUSE_DOWN,mouseDownHandler);			trace("sottopancia")		}		public function avvia(f):void {			fnz = f;		}		public function parti():void {			play();		}		public function riempi(xml,nn):void {			n = nn;			myXml = xml;			trace(myXml)			/*			trace("img "+myXml.childNodes[1].childNodes[2].childNodes[0])			trace("tit "+myXml.childNodes[1].childNodes[0])			trace("dat "+myXml.childNodes[1].childNodes[1].childNodes[0]);			trace("dur "+Preferences.pref.interfaceTrgt.myTime(myXml.childNodes[1].childNodes[2].childNodes[0]));			trace("txt "+myXml.childNodes[1].childNodes[3].childNodes[0])			trace("aut "+myXml.childNodes[1].childNodes[4].childNodes[0])			trace("cat "+myXml.childNodes[1].childNodes[5].childNodes[0])			trace("tag "+myXml.childNodes[1].childNodes[6].childNodes[0])			trace(this.tit)			*/			tit.htmlText = myXml.childNodes[1].childNodes[0];			var tmp = myXml.childNodes[1].childNodes[1].childNodes[0].toString();			dat.htmlText = tmp.split(" ")[0];			dur.htmlText = myTime(int(parseInt(myXml.childNodes[1].childNodes[2].childNodes[0])/1000));			txt.htmlText = myXml.childNodes[1].childNodes[3].childNodes[0];			aut.htmlText = myXml.childNodes[1].childNodes[4].childNodes[0];			cat.htmlText = myXml.childNodes[1].childNodes[5].childNodes[0];			setPos();			/*dur.x = 488-dur.textWidth			cat.x = 488-cat.textWidth			imgLoader.load(new URLRequest(myXml.childNodes[1].childNodes[2].childNodes[0].toString()));			loadingProgress = true;*/			//tag.htmlText = myXml.childNodes[1].childNodes[3].childNodes[0];		}		public function setPos():void {			this.y=(Preferences.pref.h-100)/2			this.x=(Preferences.pref.w-480)/2		}		function mouseDownHandler(e) {			fnz(myXml,n);		}		public function myTime(mm) {			var min;			var tmp;			var tmp2;			var sec;			if (mm>60) {				tmp = int(mm/60);				if (tmp.toString().length<2) {					min = "0"+tmp;				} else {					min = tmp;				}				tmp2 = int(mm-(60*tmp));				if (tmp2.toString().length<2) {					sec = "0"+tmp2;				} else {					sec = tmp2;				}			} else {				min = "00";				if (int(mm).toString().length<2) {					sec = "0"+int(mm);				} else {					sec = int(mm);				}			}			return min+":"+sec;		}	}}